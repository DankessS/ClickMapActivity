<style>
    #display-conf {
        width: 80%;
        font-family: Verdana, Geneva, sans-serif;
        font-size: 1.4em;
        text-align: left;
        padding: 1%;
        margin-top: 5%;
        margin-bottom: 3%;
    }

    #panel {
        padding-left: 17%;
    }

    #addButton {
        background-color: #7a43b6;
        border-color: #7a43b6;
        margin-left: 5%;
        margin-top: 5%;
        display: inline;
    }

</style>

<div id="panel" ng-init="loadImageName();getSubpageImage(imgName)">
    <div id="display-conf">
        <div class="container">
            <div class='col-md-5' style="width:23%">
                <div class="form-group">
                    <div>From:</div>
                    <div class="input-group date" id="datetimepicker6">
                        <input type='text' id="inputDateFrom" class="form-control" ng-model="dateFrom"/>
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar" style="color: #7a43b6"></span>
                </span>
                    </div>
                </div>
            </div>
            <div class='col-md-5' style="width:23%">
                <div class="form-group">
                    <div>To:</div>
                    <div class='input-group date' id='datetimepicker7'>
                        <input type='text' id="inputDateTo" class="form-control" ng-model="dateTo"/>
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar" style="color: #7a43b6"></span>
                </span>
                    </div>
                </div>
            </div>
            <div class='col-md-5' style="width:15%">
                <div class="form-group">
                    <div>Granulation:</div>
                    <div class="form-group">
                        <select class="form-control" id="sel1" ng-model="granulation"
                                ng-options="gt for gt in granulationTypes"
                                ng-init="granulation = granulationTypes[0]">
                        </select>
                    </div>
                </div>
            </div>
            <div class='col-md-5' style="width:15%;padding-top:1.5%">
                <button type="submit" id="addButton" ng-click="getSubpageImage(imgName);getChartData(imgName)"
                        class="btn btn-primary">REFRESH
                    MAP
                </button>
            </div>
        </div>
        <script type="text/javascript">
            $(document).ready(function () {
                $(function () {
                    $('#datetimepicker6').datetimepicker({
                        format: "YYYY-MM-DD HH:mm:ss"
                    });
                    $('#datetimepicker7').datetimepicker({
                        useCurrent: false, //Important! See issue #1075
                        format: "YYYY-MM-DD HH:mm:ss"
                    });
                    $("#datetimepicker6").on("dp.change", function (e) {
                        $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
                    });
                    $("#datetimepicker7").on("dp.change", function (e) {
                        $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
                    });
                });
            });
        </script>
    </div>
</div>
<nvd3 ng-init="getChartData(imgName)" options="options" data="data" api="api"></nvd3>
<br><br>
<div ng-if="isFileLoaded">
    <center><img data-ng-src="data:image/png;base64,{{img}}"></center>
</div>
